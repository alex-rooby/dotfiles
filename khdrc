# a short keypress on the left ctrl is esc
khd mod_trigger_timeout 0.2
lctrl: khd -p "0x35"

# enable kwm compatibility mode
khd kwm on

# shortcuts for moving focus with kwmc
ctrl+cmd - h: kwmc window -f west
ctrl+cmd - l: kwmc window -f east
ctrl+cmd - j: kwmc window -f south
ctrl+cmd - k: kwmc window -f north

# use [ and ] to switch focus of displays with kwmc
ctrl+cmd - 0x21: kwmc display -f 0
ctrl+cmd - 0x1E: kwmc display -f 1

# moving windows around with kwmc
ralt - h: kwmc window -s west
ralt - j: kwmc window -s south
ralt - k: kwmc window -s north
ralt - l: kwmc window -s east
ralt - 0x21: kwmc window -m display 0
ralt - 0x1E: kwmc window -m display 1

# rotate and fullscreen and switch modes
ralt - f: kwmc window -t focused
ralt - r: kwmc tree rotate 90
ralt - 1: kwmc space -t bsp
ralt - 2: kwmc space -t monocle
ralt - 3: kwmc space -t float

# set border color for different modes
khd mode resizer color 0xff5e8d87
khd mode vimmode color 0xffa54242

# toggle between modes
ralt - a: khd -e "mode activate resizer"; kwmc config border focused on; # a as used in tmux as well
ralt - v: khd -e "mode activate vimmode"; kwmc config border focused on; # v for vim mode
resizer + ralt - a: khd -e "mode activate default"; kwmc config border focused off;
vimmode + ralt - v: khd -e "mode activate default"; kwmc config border focused off;

# resizer mode
resizer - 1: kwmc window -c type bsp
resizer - 2: kwmc window -c type monocle
resizer - 3: kwmc window -c type float
resizer - h: kwmc window -c expand 0.02 west
resizer - l: kwmc window -c expand 0.02 east
resizer - j: kwmc window -c expand 0.02 south
resizer - k: kwmc window -c expand 0.02 north
resizer - a: kwmc window -c reduce 0.02 east
resizer - d: kwmc window -c reduce 0.02 west
resizer - w: kwmc window -c reduce 0.02 south
resizer - s: kwmc window -c reduce 0.02 north
resizer - p: kwmc window -z parent
resizer - f: kwmc window -z fullscreen
resizer - t: kwmc window -c split-mode toggle
resizer - 0x35: khd -e "mode activate default"; kwmc config border focused off;

# basic vim movements + commands
vimmode - h: khd -p "- left"
vimmode - l: khd -p "- right"
vimmode - j: khd -p "- down"
vimmode - k: khd -p "- up"
vimmode - b: khd -p "lalt - left"
vimmode - w: khd -p "lalt - right"
vimmode+shift - 6: khd -p "cmd - left"
vimmode+shift - 4: khd -p "cmd - right"
vimmode - g: khd -p "alt - up"
vimmode+shift - g: khd -p "alt - down"
vimmode - x: khd -p "cmd - w"
vimmode - q: khd -p "cmd - q"
vimmode - 0x35: khd -e "mode activate default"; kwmc config border focused off;
